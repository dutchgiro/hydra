default:
  attributes:
    prefix: hydra-release
    private_key_path: ~/pems/innotechdev.pem
    username: innotechdev
  scripts:
    pre-provision:
      - source: ./scripts
        target: /tmp/
    # provision:
    #   - remote_path: sudo /tmp/common/updatedns.sh
    #     args: "%{name}"
    tag:
      - remote_path: /tmp/scripts/build.sh
        args: "%{branch} %{tag}"
    release:
      - remote_path: python /tmp/scripts/make_release.py
        args: "%{name}"
  providers:
    aws:
      attributes:
        instance_type: t1.micro
        # instance_type: m1.small
      # scripts:
      #   pre-provision:
      #     - remote_path: sudo /tmp/common/routes_allregions.sh
      regions:
        sa-east-1a: # Sao Paulo
          attributes:
            keypair: vagrant-aws-saopaulo
            security_groups:
              - sg-93d934f6 # ssh
            subnet_id: subnet-1eebe07c

ubuntu:
  scripts:
    package:
      - remote_path: /tmp/scripts/packaging/makeDEB.sh
  providers:
    aws:
      regions:
        sa-east-1a: # Sao Paulo
          attributes:
            ami: ami-a3e34dbe # Ubuntu 12.04 (hydra-probe-ubuntu)

centos:
  scripts:
    package:
      - remote_path: /tmp/scripts/packaging/makeRPM.sh
  providers:
    aws:
      regions:
        sa-east-1a: # Sao Paulo
          attributes:
            ami: ami-a7e34dba # CentOS 6 (CentOS-6-x86_64-20120527-EBS-03-adc4348e-1dc3-41df-b833-e86ba57a33d6-ami-8f9af1e6.1)